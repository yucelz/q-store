name: q-store-examples
channels:
  - pytorch
  - conda-forge
  - defaults

dependencies:
  # Python version
  - python=3.10

  # Core dependencies
  - pip>=23.0
  - numpy>=1.20.0
  - pandas>=1.3.0
  
  # PyTorch (CPU version - for GPU, see notes below)
  - pytorch>=2.0.0
  - torchvision
  - torchaudio
  - cpuonly  # Remove this line for GPU support
  
  # Development tools
  - jupyter
  - ipython
  - notebook
  
  # Pip dependencies
  - pip:
      # Q-Store (install from parent directory)
      # Run after environment creation: pip install -e ../
      
      # Essential utilities
      - python-dotenv>=0.19.0
      
      # Transformers and ML
      - transformers>=4.30.0
      - datasets>=2.12.0
      - peft>=0.4.0
      - accelerate>=0.20.0
      - sentencepiece>=0.1.99
      - protobuf>=3.20.0
      
      # Quantization (CPU compatible)
      # For GPU, uncomment: - bitsandbytes>=0.41.0
      
      # Data science
      - scikit-learn>=1.0.0
      
      # Development
      - pytest>=7.0.0
      - pytest-asyncio>=0.21.0
      - black>=22.0.0
      - isort>=5.10.0

# ============================================================================
# USAGE
# ============================================================================

# Create the environment:
#   $ conda env create -f environment.yml

# Activate the environment:
#   $ conda activate q-store-examples

# Install Q-Store from parent directory:
#   $ pip install -e ../

# Verify installation:
#   $ python verify_installation.py

# ============================================================================
# GPU SUPPORT
# ============================================================================

# For NVIDIA GPU support, replace the pytorch section above with:
#
# dependencies:
#   - python=3.10
#   - pip>=23.0
#   - numpy>=1.20.0
#   - pandas>=1.3.0
#   
#   # PyTorch with CUDA 11.8
#   - pytorch>=2.0.0
#   - pytorch-cuda=11.8
#   - torchvision
#   - torchaudio
#
# Then add to pip dependencies:
#   - bitsandbytes>=0.41.0  # GPU quantization

# ============================================================================
# MINIMAL ENVIRONMENT
# ============================================================================

# For a minimal environment without ML dependencies, create:
# environment-minimal.yml and only include:
#   - python=3.10
#   - pip>=23.0
#   - numpy>=1.20.0
#   - pandas>=1.3.0
#   - pip:
#       - python-dotenv>=0.19.0
#       - scikit-learn>=1.0.0
